{% extends 'base.html' %} {% block title %} Lab Music {% endblock %} {% block content %}
<div
	class="container-fluid d-flex vh-100 align-items-center justify-content-lg-end justify-content-center"
	id="main_container">
	<div class="row w-75 justify-content-lg-end justify-content-center">
		<div class="col-md-8 text-center">
			<h1 id="lab-music-title" class="text-light animate__animated animate__fadeInDown animate__slower mb-4">
				Lab Music
			</h1>
			<form class="d-flex justify-content-center align-items-center" method="post" action="/">
				<div class="input-group mb-3 w-50 justify-content-center" id="searchbar">
					<input class="form-control" type="text" name="song_name" placeholder="Song" autofocus />
					<button type="submit" class="btn btn-primary"><i class="fa fa-search"></i></button>
				</div>
			</form>
			<div class="mt-4 text-light" id="search_results">
				{% if search_results %}
				<h4>Search Results:</h4>
				<ul class="list-group">
					{% for song in search_results %}
					<li class="list-group-item bg-dark text-light">
						<form method="post" action="/queue" class="d-flex align-items-center justify-content-start">
							<a href="{{ song.uri }}"
								><img src="{{ song.cover_url }}" alt="Album cover" style="width: 50px; height: 50px" class="me-3"
							/></a>
							<input type="hidden" name="track_uri" value="{{ song.uri }}" />
							<div class="flex-grow-1 d-flex flex-column align-items-start">
								<a href="{{ song.uri }}" class="text-decoration-none text-light">{{ song.name }}</a>
								<div class="text-secondary">{{ song.artists }}</div>
							</div>
							<button class="btn btn-sm btn-success ms-3">Queue</button>
						</form>
					</li>
					{% endfor %}
				</ul>
				{% endif %}
			</div>
			{% if search_results %}
			<div class="row mt-2 justify-content-end">
				<div class="col-md-4">
					<form method="post" action="/clear">
						<button type="submit" class="btn btn-sm btn-danger float-end">
							Clear Results <i class="fa fa-ban"></i>
						</button>
					</form>
				</div>
			</div>
			{% endif %}
		</div>
		<div class="col-md-4">
			<div class="text-light text-center" id="current_song">
				<h4 class="mt-3 mt-lg-0">Now Playing</h4>
				{% if current_song %}
				<ul class="list-group">
					<li class="list-group-item bg-dark text-light d-flex align-items-center justify-content-start">
						<a href="{{ current_song.uri }}"
							><img src="{{ current_song.cover_url }}" alt="Album cover" style="width: 50px; height: 50px" class="me-3"
						/></a>
						<div class="d-flex flex-column align-items-start">
							<a class="text-light text-decoration-none" href="{{ current_song.uri }}">{{ current_song.name }}</a>
							<div class="text-secondary">{{ current_song.artists }}</div>
						</div>
					</li>
				</ul>
				{% endif %} {% if not current_queue %}
				<h6>...</h6>
				{% endif %}
			</div>
			<div class="text-light text-center mt-5" id="current_queue">
				<h4>Queue</h4>
				{% if current_queue %}
				<ul class="list-group">
					{% for song in current_queue %}
					<li class="list-group-item bg-dark text-light d-flex align-items-center justify-content-start">
						<a href="{{ song.uri }}"
							><img src="{{ song.cover_url }}" alt="Album cover" style="width: 50px; height: 50px" class="me-3"
						/></a>
						<div class="d-flex flex-column align-items-start">
							<a class="text-light text-decoration-none" href="{{ song.uri }}">{{ song.name }}</a>
							<div class="text-secondary">{{ song.artists }}</div>
						</div>
					</li>
					{% endfor %}
				</ul>
				{% endif %} {% if not current_queue %}
				<h6>Queue Empty</h6>
				{% endif %}
			</div>
		</div>
	</div>
</div>
{% endblock %}
